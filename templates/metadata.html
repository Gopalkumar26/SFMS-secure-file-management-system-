{% extends "base.html" %}
{% block title %}File metadata — SFMS{% endblock %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-8">
    <div class="card p-3 card-compact">
      <h5>Metadata — {{ f['filename'] }}</h5>
      <dl class="row">
        <dt class="col-sm-4">Owner</dt><dd class="col-sm-8">{{ owner['username'] }}</dd>
        <dt class="col-sm-4">Uploaded</dt><dd class="col-sm-8">{{ f['uploaded_at'][:19] }}</dd>
        <dt class="col-sm-4">Size</dt><dd class="col-sm-8">{{ (f['size'] // 1024) }} KB</dd>
        <dt class="col-sm-4">SHA-256</dt><dd class="col-sm-8"><code style="word-break:break-all">{{ f['file_hash'] }}</code></dd>
        <dt class="col-sm-4">Quarantined</dt><dd class="col-sm-8">{% if f['quarantined'] %}Yes{% else %}No{% endif %}</dd>
      </dl>

      {% if shares %}
        <h6>Shared with</h6>
        <ul class="list-group mb-3">
          {% for s in shares %}
            <li class="list-group-item">{{ s['username'] }} <span class="small-muted">• {{ s['created_at'][:19] }}</span></li>
          {% endfor %}
        </ul>
      {% endif %}

      <div class="d-flex gap-2">
        <a class="btn btn-accent" href="{{ url_for('download', file_id=f['id']) }}">Download</a>
        <a class="btn btn-light" href="{{ url_for('dashboard') }}">Back</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
